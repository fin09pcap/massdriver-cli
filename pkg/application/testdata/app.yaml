uuid: 133684ce-894e-4e01-8705-6e0d14c573f4
title: Retool
description: Self-hosted retool
ref: github.com/user/app
type: k8s-retool

deployment: 
  type: chart
  repo:
    name: retool
    url: https://charts.retool.com

params:
  license_key:
    title: License Key
    type: string
    required: true
    chartValuePath: config.licenseKey
  domain_name:
    title: DNS Name
    type: string
    required: true
    chartValuePath: ingress.hostName

dependencies: 
  - type: massdriver/rdbms-connection
    field: database
    required: true
    env: 
      - name: DATABASE_URL
        value: ${data.authentication.connection_string}
    port: 5432
    protocol: tcp
  - type: massdriver/kubernetes-cluster
    field: kubernetes_cluster
    required: true
  - type: massdriver/aws-sqs-queue
    field: queue
    required: false
    env: 
      - name: MY_QUEUE_ARN
        value: ${data.infrastructure.arn}
    policy: read
  - type: massdriver/aws-sns-topic
    field: topic
    env: 
      - name: MY_TOPIC_ARN
        value: ${data.infrastructure.arn}
    policy: write    